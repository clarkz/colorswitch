<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Garbage Bin Color Calculation</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--script src="http://code.jquery.com/jquery-2.1.1.min.js"></script-->
        <script src="jquery-3.3.1.min.js"></script>
        <style type="text/css">
            .outframe{ width: 100% !Important; border-width: 5px; color: red;}
        </style>
    </head>

    <!-- DEBUG: Enable this for red outline on all elements -->
    <style media="screen" type="text/css">/** { outline: 1px red solid; }*/</style>

    <body>
        <div class="outframe">
            <div class="div-title">
                <h2>Unknown</h2>
            </div>
            <div class="div-description">
                <h2>opoos...</h2>
            </div>
        </div>
    </body>
</html>

<script>
$(document).ready(function(){
    console.log('ready');

    var buleBenchMarkDate = new Date('2018-10-15');// new Date(2018, 10, 15);
    var today = new Date(new Date().toLocaleDateString());
    var timeDiff = Math.abs(today.getTime() - buleBenchMarkDate.getTime());
    var numberOfDays = Math.trunc(timeDiff / (1000 * 3600 * 24));

    var daysPassed2LastWeek = numberOfDays % 7;
    var days2target = (daysPassed2LastWeek == 0? 0: 7) - daysPassed2LastWeek;
    var days2Blue = numberOfDays % 14;

    var targetDate = formateDate(new Date(new Date().getTime() + days2target * 1000 * 3600 * 24));

    $(".div-title h2").text(targetDate);

    if(days2Blue && days2Blue <= 7){
        $(".div-title h2, .div-description h2").css("color", "black");
        $(".div-description h2").text("Black Garbage Bin");
    }else{
        $(".div-title h2, .div-description h2").css("color", "blue");
        $(".div-description h2").text("Blue Recycle Bin");
    }
});

var formateDate = function(aDay) {
    var d = aDay.getDate();
    if(d < 10) d = '0' + d;
    var m = aDay.getMonth() + 1;  // JavaScript months are 0-11
    if(m < 10) m = '0' + m;

    var y = aDay.getFullYear();

    return y + '-' + m + '-' + d;
};

</script>
